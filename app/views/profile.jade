section#profile
	.page-header
		h2 {{data.resources.name}}

		.row-fluid

			.tabbable.tabs-left

				ul.nav.nav-tabs.nav-tabs-app(style='margin-right: 0px;')
					li(class="{{(views.profile==true || views.edit==true) && 'active'}}")
						a(href='#profileTab',
						data-toggle='tab',
						ng-click='fixTabHeight("profileTab"); setViewTo("profile")')
							span.entypo ðŸ‘¤
							| {{ui.profile.profile}}

				.tab-content

					#profileTab.tab-pane(class="{{(views.profile==true) && 'active'}}")
						.tab-header
							h3.pull-left {{data.resources.firstName}} {{data.resources.lastName}}
							button.btn.pull-right.btn-info.marginLeftTen(type='button',
							ng-click='deleteProfile()') {{ui.teamup.del}}
							button.btn.pull-right.btn-info(type='button',
							ng-click='editProfile()') {{ui.profile.edit}}
						hr
						.row-fluid
							.widget(class="{{(!browser.mobile) && 'span9' || 'span12'}}")
								dl
									dt {{ui.teamup.teams}}
									dd
										span(ng-repeat='team in teams')
											span(ng-hide='app.resources.role > 1')
												a(href='#/team?uuid={{team.uuid}}#team') {{team.name}}
												| ,
											span(ng-show='app.resources.role > 1') {{team.name}},
									dt {{ui.teamup.role}}
									dd {{data.resources.role|translateRole}}
									dt {{ui.profile.phone}}
									dd {{data.resources.phone}}
									dt {{ui.teamup.func}}
									dd {{data.resources.function|translateFunc}}
									dt {{ui.profile.birthday}}
									dd {{data.resources.birthDate|nicelyDate}}
							.widget.profilePic(class="{{(!browser.mobile) && 'span3' || 'span12'}}")
								// profile image
								// style= "background-image: url({{imgHost}}/teamup/team/member/{{data.resources.uuid}}/photo)
								.roundedPicLarge(id='img_{{data.resources.uuid|escape}}',
								class='{{data.resources.states|stateColor}}')
								div
									a(href='#/profile/{{data.resources.uuid}}#editImg')
										button.btn.btn-mini.btn-primary(ng-click='editImg()')
											i.icon-edit
									button.btn.btn-mini.btn-primary(type='submit',
									ng-click='removeImg(data.resources.uuid)')
										i.icon-trash

					#editTab.tab-pane(class="{{(views.edit==true) && 'active'}}")
						div(style='overflow: hidden; height: 35px')
							h3.pull-left(style='margin-top: 0;') {{ui.profile.editProfile}}
						hr
						form.form-vertical
							.control-group
								label.control-label {{ui.profile.firstName}}
								.controls
									input.span4(type='text',
									ng-model='profilemeta.firstName',
									value='{{data.resources.firstName}}')
							.control-group
								label.control-label {{ui.profile.lastName}}
								.controls
									input.span4(type='text',
									ng-model='profilemeta.lastName',
									value='{{data.resources.lastName}}')
							.control-group
								label.control-label {{ui.teamup.role}}
								.controls
									select(ng-model='profilemeta.role',
									ng-options='r.id as r.label for r in roles',
									ng-selected='currentRole')
							.control-group
								label.control-label {{ui.profile.phone}}
								.controls
									input.span3(type='text',
									ng-model='profilemeta.phone',
									value='{{data.resources.phone}}')
							.control-group
								label.control-label {{ui.teamup.func}}
								.controls
									select(ng-model='profilemeta.function',
									ng-options='f.id as f.label for f in mfuncs',
									ng-selected='profilemeta.function')
										| {{ui.profile.birthday}}
									input.ng-pristine.ng-valid(name='date-start',
									type='text',
									ng-model='profilemeta.birthday',
									data-date-format='dd-mm-yyyy',
									bs-datepicker='',
									data-toggle='datepicker')
									i.icon-calendar
							.form-actions
								button.btn.btn-success(type='submit',
								ng-click='save(profilemeta)') {{ui.profile.saveProfile}}

					#editImgTab.tab-pane(class="{{(views.editImg==true) && 'active'}}")
						div(style='overflow: hidden; height: 35px')
							h3.pull-left(style='margin-top: 0;')
								| {{ui.profile.editProfileImg}} : {{data.resources.firstName}} {{data.resources.lastName}}
						hr
						div
							img(ng-src='{{avatarURL}}')
						#uploadImgModule
							form.form-vertical(enctype='multipart/form-data')
								uploader(action='{{uploadURL}}')

					#passwordTab.tab-pane(class="{{(views.password==true) && 'active'}}",
					ng-show='views.user')
						div(style='overflow: hidden; height: 35px')
							h3.pull-left(style='margin-top: 0;') {{ui.profile.passChange}}
						hr
						form.form-vertical
							.control-group
								label.control-label {{ui.profile.currentPass}}
								.controls
									input.span3(type='password',
									ng-model='passwords.current')
							.control-group
								label.control-label {{ui.profile.newPass}}
								.controls
									input.span3(type='password',
									ng-model='passwords.new1')
							.control-group
								label.control-label {{ui.profile.newPassRepeat}}
								.controls
									input.span3(type='password',
									ng-model='passwords.new2')
							.form-actions
								button.btn.btn-success(type='submit',
								ng-click='change(passwords)') {{ui.profile.changePass}}