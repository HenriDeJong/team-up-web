section#dashboard
	.page-header.agenda-timeline
		h2.nullable Status
	div(style='margin-top: 20px;')
		.form-group.has-feedback.pull-left
			//input.form-control(type='text', name='daterange', ng-model='daterange', log-ranger='')
			label.control-label Selecteer team
			.controls
				select(ng-model='current.group',
				ng-options='group.uuid as group.name for group in groups',
				ng-selected='current.group',
				ng-change='getGroupReachability()')
			
	.tabbable.tabs-left
		ul.nav.nav-tabs.nav-tabs-app(style='margin-right: 0;', bs-navbar)
			include ../agenda/tabs
				
		.tab-content
			#availabilities.sa.widget
				div.head
					h4
						| Overzicht bereikbaarheid{{current.group | groupIdToName:true | toTitleCase}} {{ loadGroup }}
						span(ng-show='(current.division != "all")') ({{current.division | divisionIdToName}})
					.pull-right(ng-hide='loadingReachability')
						//select(ng-model='current.group',
						//ng-options='group.uuid as group.name for group in groups',
						//ng-selected='current.group',
						//ng-change='getGroupReachability()',
						//style='width: 160px;')
						select(ng-model='current.division',
						ng-options='division.id as division.label for division in divisions',
						ng-selected='current.division',
						ng-change='getDivisionReachability()',
						ng-show='divisions.length > 0 && current.group != "all"',
						style="margin-left: 15px; width:160px")
				div(ng-show='loadingReachability')
					hr
					p Overzicht bereikbaarheid aan het laden...
				section(ng-hide='loadingReachability')
					div(ng-show='reachability.members.reachable.length > 0')
						hr
						ul.sa-setup
							li.sa-truck
								.sa-member(ng-repeat='member in reachability.members.reachable')
									span.sa-member-icon(class='{{member.style}}')
										strong {{member.label}}{{$index+1}}
									.sa-member-card
										h5
											a(href='#/profile/{{member.id}}#profile')
												| {{member.name | toTitleCase}}
										hr
										span {{states[member.state].label}}
										br
										small
											strong {{member.end | calculateDeltaTime}}
					div(ng-show='reachability.members.unreachable.length > 0')
						hr
						ul.sa-setup
							li.sa-truck
								.sa-member(ng-repeat='member in reachability.members.unreachable',
								ng-show='(member.state != "no-state")')
									span.sa-member-icon.sa-icon-reserve-unavailable
										strong {{member.label}}{{$index+1}}
									.sa-member-card
										h5
											a(href='#/profile/{{member.id}}#profile') {{member.name | toTitleCase}}
										hr
										span {{states[member.state].label}}
										br
										small
											strong {{member.end | calculateDeltaTime}}
					div(ng-show='reachability.members.possible.length > 0')
						hr
						ul.sa-setup
							li.sa-truck
								.sa-member(ng-repeat='member in reachability.members.possible')
									span.sa-member-icon.sa-icon-reserve-noplanning
										strong {{member.label}}{{$index+1}}
									.sa-member-card
										h5
											a(href='#/profile/{{member.id}}#profile') {{member.name | toTitleCase}}
										hr
										span {{states[member.state].label}}
				p
					hr
					small.pull-left(style='margin-top: -10px;', ng-hide='loadingReachability')
						span.text-warning {{ui.planboard.lastSyncTime}}
						span.text-muted &nbsp; {{reachability.synced | nicelyDate}}