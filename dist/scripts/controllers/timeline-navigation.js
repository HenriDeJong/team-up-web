define(["controllers/controllers","config"],function(e,t){e.controller("timeline-navigation",["$rootScope","$scope","$window",function(e,n,r){n.timelineScoper=function(e){n.timeline.current.day=n.current.day,n.timeline.current.week=n.current.week,n.timeline.current.month=n.current.month,n.timeline.current.year=Number((new Date).toString("yyyy")),console.log("$scope.timeline",n.timeline);switch(e){case"day":n.timeline.scope={day:!0,week:!1,month:!1},n.timeliner.render({start:n.periods.days[n.timeline.current.day].first.timeStamp,end:n.periods.days[n.timeline.current.day].last.timeStamp});break;case"week":n.timeline.scope={day:!1,week:!0,month:!1},n.timeliner.render({start:n.periods.weeks[n.timeline.current.week].first.timeStamp,end:n.periods.weeks[n.timeline.current.week].last.timeStamp});break;case"month":n.timeline.scope={day:!1,week:!1,month:!0},n.timeliner.render({start:n.periods.months[n.timeline.current.month].first.timeStamp,end:n.periods.months[n.timeline.current.month].last.timeStamp})}},n.timelineBefore=function(){n.timeline.scope.day?n.timeline.current.day!=1&&(n.timeline.current.day--,n.timeliner.render({start:n.periods.days[n.timeline.current.day].first.timeStamp,end:n.periods.days[n.timeline.current.day].last.timeStamp})):n.timeline.scope.week?n.timeline.current.week!=1&&(n.timeline.current.week--,n.timeliner.render({start:n.periods.weeks[n.timeline.current.week].first.timeStamp,end:n.periods.weeks[n.timeline.current.week].last.timeStamp})):n.timeline.scope.month&&n.timeline.current.month!=1&&(n.timeline.current.month--,n.timeliner.render({start:n.periods.months[n.timeline.current.month].first.timeStamp,end:n.periods.months[n.timeline.current.month].last.timeStamp}))},n.timelineAfter=function(){n.timeline.scope.day?n.timeline.current.day!=n.periods.days.total&&(n.timeline.current.day++,n.timeliner.render({start:n.periods.days[n.timeline.current.day].first.timeStamp,end:n.periods.days[n.timeline.current.day].last.timeStamp})):n.timeline.scope.week?n.timeline.current.week!=53&&(n.timeline.current.week++,n.timeliner.render({start:n.periods.weeks[n.timeline.current.week].first.timeStamp,end:n.periods.weeks[n.timeline.current.week].last.timeStamp})):n.timeline.scope.month&&n.timeline.current.month!=12&&(n.timeline.current.month++,n.timeliner.render({start:n.periods.months[n.timeline.current.month].first.timeStamp,end:n.periods.months[n.timeline.current.month].last.timeStamp}))},n.timelineThisWeek=function(){n.timeline.current.week!=(new Date).getWeek()&&(n.timeliner.render({start:n.periods.weeks[(new Date).getWeek()].first.timeStamp,end:n.periods.weeks[(new Date).getWeek()].last.timeStamp}),n.timeline.range={start:n.periods.weeks[(new Date).getWeek()].first.day,end:n.periods.weeks[(new Date).getWeek()].last.day})},n.timelineWeekBefore=function(){n.timeline.current.week!=1&&(n.timeline.current.week--,n.timeliner.render({start:n.periods.weeks[n.timeline.current.week].first.timeStamp,end:n.periods.weeks[n.timeline.current.week].last.timeStamp})),n.timeline.range={start:n.periods.weeks[n.timeline.current.week].first.day,end:n.periods.weeks[n.timeline.current.week].last.day}},n.timelineWeekAfter=function(){n.timeline.current.week!=53&&(n.timeline.current.week++,n.timeliner.render({start:n.periods.weeks[n.timeline.current.week].first.timeStamp,end:n.periods.weeks[n.timeline.current.week].last.timeStamp})),n.timeline.range={start:n.periods.weeks[n.timeline.current.week].first.day,end:n.periods.weeks[n.timeline.current.week].last.day}},n.timelineZoomIn=function(){n.self.timeline.zoom(t.app.timeline.config.zoom,Date.now())},n.timelineZoomOut=function(){n.self.timeline.zoom(-t.app.timeline.config.zoom,Date.now())},r.onresize=function(){n.self.timeline.redraw()},n.fullWidth=function(){n.self.timeline.redraw()}}])});