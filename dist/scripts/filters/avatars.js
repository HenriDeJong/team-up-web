define(["filters/filters","config"],function(e,t){e.filter("escape",[function(){return function(e){return!e||e.indexOf(".")==-1?e:e.replace(".","").replace("@","")}}]),e.filter("stateColor",[function(){return function(e){var n=t.app.stateColors.none;return angular.forEach(e,function(e){angular.lowercase(e.name)=="availability"&&e.share&&(angular.lowercase(e.value)=="available"||angular.lowercase(e.value)=="working"?n=t.app.stateColors.availalbe:angular.lowercase(e.value)=="unavailable"?n=t.app.stateColors.busy:angular.lowercase(e.value)=="offline"&&(n=t.app.stateColors.offline))}),n}}]),e.filter("nicelyDate",[function(){return function(e){return typeof e=="string"&&(e=Number(e)),String(e).length==10&&(e*=1e3),(new Date(e)).toString(t.app.formats.date)}}]),e.filter("nicelyTime",[function(){return function(e){return typeof e=="string"&&(e=Number(e)),(new Date(e)).toString(t.app.formats.time)}}]),e.filter("translateRole",[function(){return function(e){var n;return angular.forEach(t.app.roles,function(t){t.id==e&&(n=t.label)}),n}}]),e.filter("translateFunc",[function(){return function(e){var n;return angular.forEach(t.app.mfunctions,function(t){t.id==e&&(n=t.label)}),n}}]),e.filter("stateDataIcon",[function(){return function(e,n){var r;return angular.forEach(t.app.stateIcons,function(t){angular.lowercase(t.name)==angular.lowercase(e)&&(n=="data_icon"?r=t.data_icon:n=="class_name"&&(r=t.class_name))}),r}}]),e.filter("stateValue",[function(){return function(e,t){if(angular.lowercase(e.name)=="location"){var n=e.value,r=n.match(/\((.*?)\)/);return r==null?n:t=="data"?r[1]:n.replace(r[0],"")}return e.value}}]),e.filter("rangeMainFilter",["Dater",function(e){var t=e.getPeriods();return function(n){(new Date(n.end)).getTime()-(new Date(n.start)).getTime()==86401e3&&(n.start=(new Date(n.end)).addDays(-1));var n={start:{real:(new Date(n.start)).toString("dddd, MMMM d"),month:(new Date(n.start)).toString("MMMM"),day:(new Date(n.start)).toString("d")},end:{real:(new Date(n.end)).toString("dddd, MMMM d"),month:(new Date(n.end)).toString("MMMM"),day:(new Date(n.end)).toString("d")}},r=Date.getMonthNumberFromName(n.start.month);return(Math.round(n.start.day)+1==n.end.day&&n.start.hour==n.end.hour||n.start.day==n.end.day)&&n.start.month==n.end.month?n.start.real+", "+e.getThisYear():n.start.day==1&&n.end.day==t.months[r+1].totalDays?n.start.month+", "+e.getThisYear():n.start.real+" / "+n.end.real+", "+e.getThisYear()}}]),e.filter("rangeMainWeekFilter",["Dater",function(e){return function(t){if(t){var n={start:(new Date(t.start)).toString("dddd, MMMM d"),end:(new Date(t.end)).toString("dddd, MMMM d")};return n.start+" / "+n.end+", "+e.getThisYear()}}}]),e.filter("rangeInfoFilter",["Dater",function(e){var t=e.getPeriods();return function(e){var n=(new Date(e.range.end)).getTime()-(new Date(e.range.start)).getTime();if(n>26784e5)return"Total selected days: "+Math.round(n/864e5);if(e.scope.day){var r={start:(new Date(e.range.start)).toString("HH:mm"),end:(new Date(e.range.end)).toString("HH:mm")};return r.end=="00:00"&&(r.end="24:00"),"Time: "+r.start+" / "+r.end}if(e.scope.week)return"Week number: "+e.current.week;if(e.scope.month)return"Month number: "+e.current.month+", Total days: "+t.months[e.current.month].totalDays}}]),e.filter("rangeInfoWeekFilter",[function(){return function(e){if(e)return"Week number: "+e.current.week}}]),e.filter("i18n_spec",["$rootScope",function(e){return function(t,n){var r=n.split(".");return e.ui[r[0]][r[1]].replace("$v",t)}}]),e.filter("stateIcon",[function(){return function(e){switch(e){case"emotion":return"icon-face";case"availability":return"icon-avail";case"location":return"icon-location";case"activity":return"icon-activity";case"reachability":return"icon-reach";default:return"icon-info-sign"}}}]),e.filter("avatar",["Session",function(e){return function(n,r,i){var s=e.get();if(s&&n){var o;switch(r){case"team":o="/team/member/";break;case"client":o="/client/"}return t.app.host+t.app.namespace+o+n+"/photo?width="+i+"&height="+i+"&sid="+s}}}]),e.filter("getObjAttr",["$rootScope",function(e){return function(t,n,r){if(n=="client"){var i=e.getClientByID(t);if(i==null||typeof i=="undefined")return"";if(r=="name")return i.firstName+" "+i.lastName;if(r=="address")return i.address.street+" "+i.address.no+" , "+i.address.zip+" "+i.address.city;if(r=="latlong")return typeof i.address.latitude=="undefined"||typeof i.address.longitude=="undefined"?i.address.street+" "+i.address.no+" , "+i.address.zip+" ,"+i.address.city:i.address.latitude+","+i.address.longitude}else{if(n!="member")return"no name";if(t==null)return"";var s=e.getTeamMemberById(t);if(r=="name")return s.firstName+" "+s.lastName;if(r=="states")return s.states}}}]),e.filter("getByUuid",function(){return function(e,t){var n=0,r=e.length;for(;n<r;n++)if(e[n].uuid==t)return e[n];return null}})});