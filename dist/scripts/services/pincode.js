define(["services/services"],function(e){e.factory("Pincode",["$rootScope","Profile","$q",function(e,t,n){return{pincodeExists:function(r,i,s,o,u){var a=n.defer(),f=o?o:e.app.resources.uuid,l={pincodeExistsValidation:i,pincodeExistsValidationMessage:"",check:s};return!r||_.isEmpty(r)?(l.pincodeExistsValidation=!1,l.pincodeExistsValidationMessage=e.ui.profile.pincodeNotValid,a.resolve(l)):(l.check&&(clearTimeout(l.check),l.check=null),l.check=setTimeout(function(){l.check=null,t.pincodeExists(f,r,u).then(function(t){console.log("resultaat pincode",t),l.pincodeExistsValidation=t,l.pincodeExistsValidationMessage=e.ui.profile.pincodeInUse,a.resolve(l)})},250)),a.promise}}}])});