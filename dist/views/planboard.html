<div ng-controller="timeline as taskPlanboard">
  <div id="confirmTasksDeleteModal" tabindex="-1" role="dialog" aria-labelledby="confirmTasksDeleteModalLabel" aria-hidden="true" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
          <h4 id="confirmTasksDeleteModal" class="modal-title">{{ui.planboard.removeTasksTitle}}</h4>
        </div>
        <div class="modal-body">{{ ui.planboard.removeTasksRange(removeTaskOptions) }}</div>
        <div class="modal-footer">
          <button type="button" data-dismiss="modal" class="btn btn-default">{{ui.teamup.confirms.cancel}}</button>
          <button type="button" ng-click="deleteTasksByRange(removeTaskOptions)" class="btn btn-primary">{{ui.teamup.confirms.remove}}</button>
        </div>
      </div>
    </div>
  </div>
  <section id="planboard" class="task-planboard">
    <div class="page-header timeline">
      <h2 class="nullable">{{ui.task.tasks}}</h2>
      <!--include planboard/time-slot.jade-->
      <div ng-hide="app.resources.role &gt; 1"><span ng-show="views.teams" class="nullable pull-left">
          <div class="selectGroup"><span class="selectTitle">Selecteer team</span>
            <select ng-model="currentTeam" ng-options="t.uuid as t.name for t in data.teams.list | orderBy:&quot;name&quot;" ng-change="changeCurrent(currentTeam)"></select>
          </div></span><span ng-show="views.clients" class="nullable pull-left">
          <div class="selectGroup"><span class="selectTitle">Selecteer groep</span>
            <select ng-model="currentClientGroup" ng-options="t.uuid as t.name for t in data.clients.list | orderBy:&quot;name&quot;" ng-change="changeCurrent(currentClientGroup)"></select>
          </div></span></div>
      <!--br-->
      <!--a(class='btn btn-primary', ng-click='getTeamID()') get team id-->
      <!--span team: {{currentTeamID}}-->
      <div id="timeline-controls" ng-controller="timeline-navigation" style="text-align: right" class="pull-right">
        <h4 style="font-weight: normal">{{timeline.range | rangeMainFilter }}<br>
          <div style="font-size: 15px; font-weight: lighter"><span>{{timeline | rangeInfoFilter}}</span></div>
        </h4>
      </div>
    </div>
    <!--include planboard/time-slot.jade-->
    <div ng-show="views.slot.add || views.slot.edit" class="row-fluid time-slot-form">
      <form class="form-inline form-toggled well">
        <button ng-click="resetInlineForms()" class="close">×</button>
        <h4 ng-show="views.slot.add">{{ui.teamup.newTask}}</h4>
        <h4 ng-show="views.slot.edit">{{ui.teamup.updateTask}}</h4>
        <hr>
        <div ng-show="browser.mobile" class="form-elements-group">
          <label>{{ui.planboard.from}}</label>
          <div ng-show="views.slot.add || views.slot.edit" class="control-group dater-mobile">
            <input name="date-start" type="datetime" ng-model="slot.start.datetime">
          </div>
          <div ng-show="views.group || views.member" class="control-group dater-mobile">
            <input name="date-start" type="datetime" ng-model="slot.start.datetime" disabled="disabled">
          </div>
        </div>
        <div ng-hide="browser.mobile" class="form-elements-group">
          <label>{{ui.planboard.from}}</label>
          <div ng-show="views.slot.add || views.slot.edit" class="control-group dater">
            <input name="date-start" type="text" ng-model="slot.start.date" data-date-type="string" data-date-format="dd-MM-yyyy" bs-datepicker="" ng-change="redrawSlot(slot)"><i class="icon-calendar"></i>
          </div>
          <div ng-show="views.group || views.member" class="control-group dater">
            <input name="date-start" type="text" ng-model="slot.start.date" disabled="disabled"><i class="icon-calendar"></i>
          </div>
          <div ng-show="views.slot.add || views.slot.edit" class="control-group timer">
            <input name="time-start" type="text" ng-model="slot.start.time" data-length="3" data-time-type="string" data-time-format="HH:mm" ng-change="redrawSlot(slot)" bs-timepicker=""><i class="icon-time"></i>
          </div>
          <div ng-show="views.group || views.member" class="control-group timer">
            <input name="time-start" type="text" ng-model="slot.start.time" disabled="disabled"><i class="icon-time"></i>
          </div>
        </div>
        <div ng-show="browser.mobile" class="form-elements-group">
          <label>{{ui.planboard.from}}</label>
          <div ng-show="views.slot.add || views.slot.edit" class="control-group dater-mobile">
            <input name="date-start" type="datetime" ng-model="slot.end.datetime">
          </div>
          <div ng-show="views.group || views.member" class="control-group dater-mobile">
            <input name="date-start" type="datetime" ng-model="slot.end.datetime" disabled="disabled">
          </div>
        </div>
        <div ng-hide="browser.mobile" class="form-elements-group">
          <label>{{ui.planboard.till}}</label>
          <div ng-show="views.slot.add || views.slot.edit" class="control-group dater">
            <input name="date-end" type="text" ng-model="slot.end.date" data-date-type="string" data-date-format="dd-MM-yyyy" ng-change="redrawSlot(slot)" bs-datepicker=""><i class="icon-calendar"></i>
          </div>
          <div ng-show="views.group || views.member" class="control-group dater">
            <input name="date-end" type="text" ng-model="slot.end.date" disabled="disabled"><i class="icon-calendar"></i>
          </div>
          <div ng-show="views.slot.add || views.slot.edit" class="control-group timer">
            <input name="time-end" type="text" ng-model="slot.end.time" data-length="3" data-time-type="string" data-time-format="HH:mm" ng-change="redrawSlot(slot)" bs-timepicker=""><i class="icon-time"></i>
          </div>
          <div ng-show="views.group || views.member" class="control-group timer">
            <input name="time-end" type="text" ng-model="slot.end.time" disabled="disabled"><i class="icon-time"></i>
          </div>
        </div>
        <!-- TODO: Look at to this later on!-->
        <!--div(ng-show='relatedUsers.length > 0')-->
        <div ng-show="views.slot.add || views.slot.edit || views.member" class="form-elements-group">
          <label>{{relatedUserLabel}}</label>
          <select ng-model="slot.relatedUser" ng-options="r.uuid as r.name for r in relatedUsers" ng-change="redrawSlot(slot)" ng-show="views.slot.add || views.slot.edit"></select>
          <select ng-model="slot.relatedUser" disabled="disabled" ng-options="r.uuid as r.name for r in relatedUsers" ng-show="views.member"></select>
        </div>
        <div ng-show="views.slot.add || views.slot.edit || views.member" class="form-elements-group">
          <label>{{ui.task.description}}</label>
          <textarea ng-model="slot.description" ng-change="redrawSlot(slot)" ng-show="views.slot.add || views.slot.edit"></textarea>
          <textarea ng-model="slot.description" disabled="disabled" ng-show="views.member"></textarea>
        </div>
        <div class="form-elements-actions pull-right">
          <div ng-show="views.slot.add">
            <button type="button" ng-click="timelineOnAdd(&quot;true&quot;, slot)" class="btn btn-success">{{ui.planboard.add}}</button>
          </div>
          <div ng-show="views.slot.edit">
            <button type="button" ng-click="timelineOnRemove(slot)" style="margin-right: 5px" class="btn btn-danger">{{ui.planboard.del}}</button>
            <button type="button" ng-click="timelineOnChange(&quot;true&quot;, original, slot)" class="btn btn-success">{{ui.planboard.change}}</button>
          </div>
        </div>
      </form>
    </div><br>
    <div class="tabbable tabs-left task-agenda">
      <ul style="margin-right: 0" class="nav nav-tabs nav-tabs-app">
        <li class="{{(views.myTasks==true) &amp;&amp; 'active'}}"><a data-toggle="tab" ng-click="nav(&quot;tasks2&quot;)"><span data-icon="" aria-hidden="true" class="icomoon"></span>{{ui.task.myTask}}</a></li>
        <li class="{{(views.allTasks==true) &amp;&amp; 'active'}}"><a data-toggle="tab" ng-click="nav(&quot;tasks2/alltasks&quot;)"><span data-icon="" aria-hidden="true" class="icomoon"></span>{{ui.task.allTasks}}</a></li>
        <li class="{{(views.newTask==true) &amp;&amp; 'active'}}"><a data-toggle="tab" ng-click="nav(&quot;tasks2/newtask&quot;)"><span data-icon="" aria-hidden="true" class="icomoon"></span>{{ui.task.newTask}}</a></li>
        <li class="{{(views.upload==true) &amp;&amp; 'active'}}"><a data-toggle="tab" ng-click="nav(&quot;tasks2/upload&quot;)"><span class="entypo">&#59213;</span>{{ui.task.upload}}</a></li>
        <li class="{{(views.teams==true || views.clients==true) &amp;&amp; 'active'}}"><a data-toggle="tab" ng-click="setViewTo(current,&quot;teams&quot;)"><span class="entypo">&#128340;</span>Agenda</a></li>
      </ul>
      <div ng-controller="treegrid" class="tab-content treegrid-container">
        <div id="viewTeamsTab" class="tab-pane {{(views.teams==true || views.clients==true) &amp;&amp; 'active'}}">
          <div class="tab-header">
            <!--h3.pull-left {{currentName}}-->
            <!--div(ng-show='app.resources.role == 1')-->
            <button type="button" data-toggle="tab" ng-show="views.teams" ng-click="confirmDeleteTasks(timeline.range)" class="btn pull-right btn-danger marginLeftTen"><span class="glyphicon glyphicon-trash"></span> Verwijder taken</button>
            <div class="btn-group pull-right">
              <button type="button" data-toggle="tab" ng-click="setViewTo(current,&quot;clients&quot;)" class="btn btn-primary {{(views.clients==true) &amp;&amp; 'active'}}"><span data-icon="" aria-hidden="true" class="icomoon"></span> Clienten</button>
              <button type="button" data-toggle="tab" ng-click="setViewTo(current,&quot;teams&quot;)" class="btn btn-primary {{(views.teams==true) &amp;&amp; 'active'}}"><span data-icon="" aria-hidden="true" class="icomoon"></span>Teams</button>
            </div>
            <div id="timeline-controls" ng-controller="timeline-navigation">
              <div class="form-group has-feedback pull-left dateranger marginLeftTen">
                <input type="text" name="daterange" ng-model="daterange" daterangepicker="" class="form-control"><i class="glyphicon glyphicon-calendar form-control-feedback"></i>
              </div>
              <div style="margin-right: 5px" class="btn-group pull-left">
                <button type="button" ng-model="timeline.scope.day" ng-click="timelineScoper(&quot;day&quot;)" class="btn btn-primary {{(timeline.scope.day==true) &amp;&amp; 'active'}}">{{ui.agenda.day}}</button>
                <button type="button" ng-model="timeline.scope.week" ng-click="timelineScoper(&quot;week&quot;)" class="btn btn-primary {{(timeline.scope.week==true) &amp;&amp; 'active'}}">{{ui.agenda.week}}</button>
                <button type="button" ng-model="timeline.scope.month" ng-click="timelineScoper(&quot;month&quot;)" class="btn btn-primary {{(timeline.scope.month==true) &amp;&amp; 'active'}}">{{ui.agenda.month}}</button>
                <div style="margin-right: 5px" class="btn-group pull-left"></div>
                <button id="timelineBeforeBtn" type="button" ng-click="timelineBefore(timeline.scope)" class="btn btn-primary"><i class="glyphicon glyphicon-arrow-left"></i></button>
                <button id="timelineZoomInBtn" type="button" ng-click="timelineZoomIn()" class="btn btn-primary"><i class="glyphicon glyphicon-zoom-in"></i></button>
                <button id="timelineZoomOutBtn" type="button" ng-click="timelineZoomOut()" class="btn btn-primary"><i class="glyphicon glyphicon-zoom-out"></i></button>
                <button id="timelineAfterBtn" type="button" ng-click="timelineAfter(timeline.scope)" class="btn btn-primary"><i class="glyphicon glyphicon-arrow-right"></i></button>
              </div>
            </div>
          </div>
          <hr>
          <div id="timeline">
            <!--include planboard/time-toolbar.jade-->
            <div id="mainTimeline" set-position-slot-form="set-position-slot-form"></div>
          </div>
          <hr>
          <p><small class="pull-left"><span class="timeline-footer-text">{{ui.planboard.lastSyncTime}}</span><span class="timeline-footer-text">{{data.synced | nicelyDate}}</span></small><small class="pull-right"><span class="timeline-footer-text">{{ui.planboard.dataRangeStart}}</span><span class="timeline-footer-text">{{data.periods.start | nicelyDate}}</span>|<span class="timeline-footer-text">{{ui.planboard.dataRangeEnd}}</span><span class="timeline-footer-text">{{data.periods.end | nicelyDate}}</span></small></p>
        </div>
      </div>
    </div>
  </section>
</div>