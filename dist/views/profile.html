<div id="confirmProfileModal" tabindex="-1" role="dialog" aria-labelledby="confirmProfileModalLabel" aria-hidden="true" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
        <h4 id="confirmProfileModalLabel" class="modal-title">{{ui.teamup.confirms.deleteMemberFromTeamTitle}}</h4>
      </div>
      <div class="modal-body">{{ui.teamup.confirms.deleteMemberFromTeam}}</div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-default">{{ui.teamup.confirms.cancel}}</button>
        <button type="button" ng-click="deleteProfile()" class="btn btn-primary">{{ui.teamup.confirms.remove}}</button>
      </div>
    </div>
  </div>
</div>
<div id="confirmTeamMemberCodeAsPhoneModal" tabindex="-1" role="dialog" aria-labelledby="confirmTeamMemberCodeAsPhone" aria-hidden="true" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
        <h4 id="confirmTeamMemberCodeAsPhone" class="modal-title">{{ui.teamup.confirms.addTeamMemberCodeAsPhoneTitle}}</h4>
      </div>
      <div class="modal-body">{{ui.teamup.confirms.addTeamMemberCodeAsPhone}}</div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-default non-capitalize">{{ui.teamup.confirms.no}}</button>
        <button type="button" ng-click="teamMemberCodeConfirmed()" class="btn btn-primary non-capitalize">{{ui.teamup.confirms.yes}}</button>
      </div>
    </div>
  </div>
</div>
<div id="confirmDeleteAvatar" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteAvatarLabel" aria-hidden="true" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
        <h4 id="confirmDeleteAvatarLabel" class="modal-title">{{ui.teamup.confirms.photoRemoveTitle}}</h4>
      </div>
      <div class="modal-body">{{ui.teamup.confirms.photoRemoveBody}}</div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-default">{{ui.teamup.confirms.cancel}}</button>
        <button type="button" ng-click="deleteAvatar()" class="btn btn-primary">{{ui.teamup.confirms.remove}}</button>
      </div>
    </div>
  </div>
</div>
<section id="profile">
  <div class="page-header">
    <h2>{{view.name}}</h2>
  </div>
  <div class="row-fluid">
    <div class="tabbable tabs-left">
      <ul style="margin-right: 0px" class="nav nav-tabs nav-tabs-app">
        <li class="{{(views.profile==true || views.edit==true || views.editImg==true || views.editPassword==true) &amp;&amp; 'active'}}"><a data-toggle="tab" ng-click="fixTabHeight(&quot;profileTab&quot;); setViewTo(&quot;profile&quot;)"><span class="entypo">ðŸ‘¤</span>{{ui.profile.profile}}</a></li>
      </ul>
      <div class="tab-content">
        <div id="profileTab" class="tab-pane {{(views.profile==true) &amp;&amp; 'active'}}">
          <div class="tab-header">
            <h3 class="pull-left">{{view.firstName}} {{view.lastName}}</h3>
            <!--div(dynamic='test') {{test}}-->
            <button type="button" ng-click="confirmModal(&quot;#confirmProfileModal&quot;)" ng-hide="app.resources.role &gt; 1 &amp;&amp; teams.length == 0 &amp;&amp; edit.uuid != app.resources.uuid" class="btn pull-right btn-info marginLeftTen">{{ui.teamup.del}}</button>
            <button type="button" ng-click="editProfile()" ng-hide="(app.resources.role &gt; 1 &amp;&amp; edit.uuid != app.resources.uuid)" class="btn pull-right btn-info">{{ui.profile.edit}}</button>
          </div>
          <hr>
          <div class="row-fluid">
            <div class="widget {{(!browser.mobile) &amp;&amp; 'span9' || 'span12'}}">
              <dl>
                <dt>{{ui.teamup.teams}}</dt>
                <dd ng-show="! teams || teams.length == 0">Geen team geselecteerd</dd>
                <dd><span ng-repeat="team in teams"><span ng-hide="app.resources.role &gt; 1"><a href="#/team?uuid={{team.uuid}}#team">{{team.name}}</a></span><span ng-hide="{{((teams.length-1) == $index)}}">,</span><span ng-show="app.resources.role &gt; 1">{{team.name}}</span></span></dd>
                <dt>{{ui.teamup.role}}</dt>
                <dd>{{view.role|translateRole}}</dd>
                <dt>E-mail</dt>
                <dd>{{view.email }}</dd>
                <dt ng-show="view.phoneNumbers.length &gt; 0">{{ui.profile.phone}}</dt>
                <dd ng-repeat="phone in view.phoneNumbers" class="phones"><span class="label label-inverse">{{ ($index > 0 && phone != null) ? 'Extra' : 'Standaard' }}  </span><span class="phone-description">{{phone}}</span></dd>
                <!--dt {{ui.teamup.func}}                                                                                    //dd {{view.function|translateFunc}}-->
                <dt>{{ui.profile.birthday}}</dt>
                <dd>{{view.birthDate}}</dd>
              </dl>
            </div>
            <div class="widget profilePic {{(!browser.mobile) &amp;&amp; 'span3' || 'span12'}}">
              <div back-img="{{view.uuid | avatar:&quot;team&quot;:&quot;368&quot; }}" class="roundedPicLarge {{view.states|stateColor}}"></div>
              <div><a href="#/profile/{{view.uuid}}#editImg">
                  <button ng-click="editImg()" ng-hide="(app.resources.role &gt; 1 &amp;&amp; edit.uuid != app.resources.uuid)" class="btn btn-mini btn-primary"><i class="icon-edit"></i></button></a>
                <button type="submit" ng-click="confirmModal(&quot;#confirmDeleteAvatar&quot;)" ng-hide="(app.resources.role &gt; 1 &amp;&amp; edit.uuid != app.resources.uuid)" class="btn btn-mini btn-primary"><i class="icon-trash"></i></button>
              </div>
            </div>
          </div>
        </div>
        <div id="editTab" class="tab-pane {{(views.edit==true) &amp;&amp; 'active'}}">
          <div style="overflow: hidden; height: 35px">
            <h3 style="margin-top: 0" class="pull-left">{{ui.profile.editProfile}}</h3>
            <button type="button" ng-hide="(app.resources.role &gt; 1 &amp;&amp; edit.uuid != app.resources.uuid)" ng-click="editPassword()" class="btn pull-right btn-info">{{ui.profile.changePassWord}}</button>
          </div>
          <hr>
          <form name="profileForm" novalidate="novalidate" class="form-vertical">
            <div class="control-group">
              <label class="control-label">{{ui.profile.firstName}}</label>
              <div class="controls">
                <input type="text" ng-model="edit.firstName" value="{{view.firstName}}" class="span4">
              </div>
            </div>
            <div class="control-group">
              <label class="control-label">{{ui.profile.lastName}}</label>
              <div class="controls">
                <input type="text" ng-model="edit.lastName" value="{{view.lastName}}" class="span4">
              </div>
            </div>
            <div ng-hide="(app.resources.role &gt; 1)" class="control-group">
              <label class="control-label">{{ui.teamup.role}}</label>
              <div class="controls">
                <select ng-model="edit.role" ng-options="r.id as r.label for r in roles" ng-selected="currentRole"></select>
              </div>
            </div>
            <div ng-hide="browser.mobile" class="form-group dater">
              <label class="control-label">{{ui.profile.birthday}}</label>
              <div class="controls">
                <input name="date-start" type="text" ng-model="edit.birthDate" data-date-type="string" data-date-format="dd-MM-yyyy" bs-datepicker="" data-toggle="datepicker"><i class="icon-calendar"></i>
              </div>
            </div>
            <div ng-show="browser.mobile" class="form-elements-group">
              <label>{{ui.profile.birthday}}</label>
              <div class="form-group dater-mobile">
                <input name="date-start" type="date" ng-model="edit.birthDate" class="form-control">
              </div>
            </div>
            <div ng-class="{ 'has-error' : profileForm.email.$invalid &amp;&amp; !profileForm.email.$pristine }" class="form-group">
              <label class="control-label">E-mail</label>
              <div class="controls">
                <input type="email" name="email" required="required" ng-model="edit.email" class="span4 form-control"><span ng-show="profileForm.email.$invalid &amp;&amp; !profileForm.email.$pristine" class="help-block"><small ng-show="profileForm.$error.email"><i></i>{{ ui.validation.email.notValid }}</small></span>
              </div>
            </div>
            <div ng-class="{ 'has-error' : profileForm.phone0.$invalid &amp;&amp; !profileForm.phone0.$pristine }" class="form-group">
              <label class="control-label">{{ui.profile.phone}} standaard</label>
              <div class="controls">
                <div class="input-group">
                  <input type="text" name="phone0" ng-model="edit.phoneNumbers[0]" required="required" ng-change="checkPhoneNumber(edit.phoneNumbers[0], 0); setTeamMemberCodeAsPhone(0)" value="{{view.phoneNumbers[0]}}" class="form-control inputPhoneNumber0"><span class="input-group-btn">
                    <button input-rule-toggle="0" type="button" class="btn btn-default input-buttons add-button"><i class="glyphicon glyphicon-white glyphicon-plus"></i></button></span>
                </div>
                <p ng-hide="parsedPhoneNumbers[0].result" class="text-danger"><small><i>{{parsedPhoneNumbers[0].message}}</i></small></p>
                <p ng-show="parsedPhoneNumbers[0].result" class="text-success"><small><i>{{parsedPhoneNumbers[0].message}}</i></small></p><span style="margin-top: -5px" class="help-block"><small><i>{{ui.edit.pincodeInfoPhone}}</i></small></span>
              </div>
            </div>
            <div ng-show="view.phoneNumbers[1]" ng-class="{ 'has-error' : profileForm.phone1.$invalid &amp;&amp; !profileForm.phone1.$pristine }" class="form-group">
              <label class="control-label">{{ui.profile.phone}} extra</label>
              <div class="controls">
                <div class="input-group">
                  <input type="text" name="phone1" ng-model="edit.phoneNumbers[1]" required="required" ng-change="checkPhoneNumber(edit.phoneNumbers[1], 1)" value="{{view.phoneNumbers[1]}}" class="form-control inputPhoneNumber1"><span class="input-group-btn">
                    <button input-rule-toggle="1" type="button" class="btn btn-default input-buttons remove-button"><i class="glyphicon glyphicon-white glyphicon-remove"></i></button>
                    <button input-rule-toggle="1" type="button" class="btn btn-default input-buttons add-button"><i class="glyphicon glyphicon-white glyphicon-plus"></i></button></span>
                </div>
                <p ng-hide="parsedPhoneNumbers[1].result" class="text-danger"><small><i>{{parsedPhoneNumbers[1].message}}</i></small></p>
                <p ng-show="parsedPhoneNumbers[1].result" class="text-success"><small><i>{{parsedPhoneNumbers[1].message}}</i></small></p>
              </div>
            </div>
            <div ng-show="view.phoneNumbers[2]" ng-class="{ 'has-error' : profileForm.phone2.$invalid &amp;&amp; !profileForm.phone2.$pristine }" class="form-group">
              <label class="control-label">{{ui.profile.phone}} extra</label>
              <div class="controls">
                <div class="input-group">
                  <input type="text" name="phone2" ng-model="edit.phoneNumbers[2]" required="required" ng-change="checkPhoneNumber(edit.phoneNumbers[2], 2)" value="{{view.phoneNumbers[2]}}" class="form-control inputPhoneNumber2"><span class="input-group-btn">
                    <button input-rule-toggle="2" type="button" class="btn btn-default input-buttons remove-button"><i class="glyphicon glyphicon-white glyphicon-remove"></i></button></span>
                </div>
                <p ng-hide="parsedPhoneNumbers[2].result" class="text-danger"><small><i>{{parsedPhoneNumbers[2].message}}</i></small></p>
                <p ng-show="parsedPhoneNumbers[2].result" class="text-success"><small><i>{{parsedPhoneNumbers[2].message}}</i></small></p>
              </div>
            </div>
            <div ng-class="{ 'has-error' : profileForm.pincode.$invalid &amp;&amp; !profileForm.pincode.$pristine }" ng-show="(app.resources.role == 1) || (edit.uuid == app.resources.uuid)" class="form-group">
              <label class="control-label">{{ui.profile.pincode}}</label>
              <div class="controls">
                <input type="text" ng-model="edit.pincode" ui-mask="9999?9999" ng-change="pincodeExists(edit.pincode, edit.uuid)" name="pincode" class="span2 form-control">
                <p ng-hide="pincodeExistsValidation" class="text-danger"><small><i>{{pincodeExistsValidationMessage}}</i></small></p><span style="margin-top: -5px" class="help-block"><small><i>{{ui.profile.pincodeInfo}}</i></small></span>
              </div>
            </div>
            <!--.control-group-->
            <!--	label.control-label {{ui.teamup.func}}-->
            <!--	.controls-->
            <!--		select(ng-model='edit.function',-->
            <!--		ng-options='f.id as f.label for f in mfuncs',-->
            <!--		ng-selected='edit.function')-->
            <div class="form-actions">
              <button type="button" ng-click="setViewTo(&quot;profile&quot;)" class="btn btn-default btn-color-brown">{{ui.teamup.confirms.cancel}}</button>
              <button type="submit" ng-click="save(edit)" class="btn btn-success">{{ui.profile.saveProfile}}</button>
            </div>
          </form>
        </div>
        <div id="editImgTab" class="tab-pane {{(views.editImg==true) &amp;&amp; 'active'}}">
          <div style="overflow: hidden; height: 35px">
            <h3 style="margin-top: 0" class="pull-left">{{ui.profile.editProfileImg}} : {{view.firstName}} {{view.lastName}}</h3>
            <button type="button" ng-click="setViewTo(&quot;profile&quot;)" class="btn btn-info pull-right">Terug</button>
          </div>
          <hr>
          <div back-img="{{view.uuid | avatar:&quot;team&quot;:&quot;368&quot; }}" class="roundedPicLarge"></div>
          <div id="uploadImgModule">
            <form enctype="multipart/form-data" class="form-vertical">
              <uploader action="{{uploadURL}}"></uploader>
            </form>
          </div>
        </div>
        <div id="editPasswordTab" class="tab-pane {{(views.editPassword==true) &amp;&amp; 'active'}}">
          <div style="overflow: hidden; height: 35px">
            <h3 style="margin-top: 0" class="pull-left">{{ui.profile.changePassWord}}</h3>
          </div>
          <hr>
          <form name="passWordForm" novalidate="novalidate" class="form-vertical">
            <fieldset>
              <div class="form-group">
                <label class="control-label">{{ui.profile.oldPassword}}</label>
                <div class="controls">
                  <input type="password" ng-model="edit.oldpass" class="span3">
                </div>
              </div>
              <div ng-class="{ 'has-error' : passWordForm.password.$invalid &amp;&amp; !passWordForm.password.$pristine }" class="form-group">
                <label class="control-label">{{ui.profile.newPass}}</label>
                <div class="controls">
                  <input type="password" ng-model="edit.newpass" name="password" required="required" ng-minlength="8" ng-maxlength="20" class="span3 form-control"><span ng-show="passWordForm.password.$invalid &amp;&amp; !passWordForm.password.$pristine" class="help-block"><small><i></i>{{ ui.validation.password.required }}</small><small ng-show="passWordForm.password.$error.minlength"><i></i>{{ ui.validation.password.amountMinChars(8) }} </small><small ng-show="passWordForm.password.$error.maxlength"><i></i>{{ ui.validation.password.amountMaxChars(20) }}</small></span>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label">{{ui.profile.newPassRepeat}}</label>
                <div class="controls">
                  <input type="password" ng-model="edit.newpassrepeat" class="span3">
                </div>
              </div>
              <div class="form-actions">
                <button type="button" ng-click="setViewTo(&quot;profile&quot;)" class="btn btn-default btn-color-brown">{{ui.teamup.confirms.cancel}}</button>
                <button type="submit" ng-click="savePassword(edit)" class="btn btn-success">{{ui.profile.safePassword}}</button>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>